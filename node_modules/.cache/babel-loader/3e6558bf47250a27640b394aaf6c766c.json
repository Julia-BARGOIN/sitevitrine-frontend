{"ast":null,"code":"var _jsxFileName = \"/Users/juliabargoin/Desktop/Simplon/sitevitrine-frontend/src/components/admin/modal/index.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { Modal } from \"react-bootstrap\";\nimport { openModal } from \"./actions/\";\nimport { loged, logout } from \"../../session/actions\";\n\nconst RedirectLogin = isLoged => isLoged ? React.createElement(Redirect, {\n  to: \"/adminhome\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}) : null;\n\nclass ModalAdmin extends Component {\n  constructor() {\n    super();\n    this.onHandleEmail = this.onHandleEmail.bind(this);\n    this.onHandlePassword = this.onHandlePassword.bind(this);\n    this.onHandleClose = this.onHandleClose.bind(this);\n    this.onHandleShow = this.onHandleShow.bind(this);\n    this.state = {\n      email: \"\",\n      password: \"\"\n    };\n  }\n  /**\n   * on handle close\n   */\n\n\n  onHandleClose() {\n    const dispatch = this.props.dispatch;\n    dispatch(openModal(false));\n    return;\n  }\n  /**\n   * on handle show\n   */\n\n\n  onHandleShow() {\n    const dispatch = this.props.dispatch;\n    dispatch(openModal(true));\n    return;\n  }\n\n  onHandleEmail(e) {\n    console.log(this.state);\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  onHandlePassword(e) {\n    console.log(this.state);\n    this.setState({\n      password: e.target.value\n    });\n  }\n  /**\n   * login\n   */\n\n\n  login(e) {\n    const dispatch = this.props.dispatch;\n    const _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n    e.preventDefault();\n    axios.post(\"http://localhost:8081/oauth\", {\n      email,\n      password\n    }).then(response => {\n      this.onHandleClose();\n      dispatch(loged());\n    }).catch(error => {\n      dispatch(logout());\n    });\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password;\n    const open = this.props.open;\n    return React.createElement(Modal, {\n      show: open,\n      onHide: this.onHandleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Connexion administrateur\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"E-mail\"), React.createElement(\"input\", {\n      type: \"email\",\n      id: \"email\",\n      value: email,\n      onChange: e => this.onHandleEmail(e),\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"mot de passe\"), React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      value: password,\n      onChange: e => this.onHandlePassword(e),\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      variant: \"primary\",\n      onClick: e => this.login(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Singin\")), React.createElement(RedirectLogin, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      variant: \"secondary\",\n      onClick: this.onHandleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Close\")));\n  }\n\n}\n\nconst mapToProps = state => {\n  const open = state.modal.open;\n  return {\n    open\n  };\n};\n\nexport default connect(mapToProps)(ModalAdmin);","map":{"version":3,"sources":["/Users/juliabargoin/Desktop/Simplon/sitevitrine-frontend/src/components/admin/modal/index.js"],"names":["React","Component","Redirect","connect","axios","Modal","openModal","loged","logout","RedirectLogin","isLoged","ModalAdmin","constructor","onHandleEmail","bind","onHandlePassword","onHandleClose","onHandleShow","state","email","password","dispatch","props","e","console","log","setState","target","value","login","preventDefault","post","then","response","catch","error","render","open","mapToProps","modal"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,KAAT,QAAsB,iBAAtB;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,uBAA9B;;AAEA,MAAMC,aAAa,GAAGC,OAAO,IAC3BA,OAAO,GAAG,oBAAC,QAAD;AAAU,EAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAH,GAAkC,IAD3C;;AAGA,MAAMC,UAAN,SAAyBV,SAAzB,CAAmC;AACjCW,EAAAA,WAAW,GAAG;AACZ;AAEA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBD,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKE,aAAL,GAAqB,KAAKA,aAAL,CAAmBF,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKG,YAAL,GAAoB,KAAKA,YAAL,CAAkBH,IAAlB,CAAuB,IAAvB,CAApB;AAEA,SAAKI,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAID;AAED;;;;;AAGAJ,EAAAA,aAAa,GAAG;AAAA,UACNK,QADM,GACO,KAAKC,KADZ,CACND,QADM;AAGdA,IAAAA,QAAQ,CAACf,SAAS,CAAC,KAAD,CAAV,CAAR;AAEA;AACD;AAED;;;;;AAGAW,EAAAA,YAAY,GAAG;AAAA,UACLI,QADK,GACQ,KAAKC,KADb,CACLD,QADK;AAGbA,IAAAA,QAAQ,CAACf,SAAS,CAAC,IAAD,CAAV,CAAR;AAEA;AACD;;AAEDO,EAAAA,aAAa,CAACU,CAAD,EAAI;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB;AACA,SAAKQ,QAAL,CAAc;AAAEP,MAAAA,KAAK,EAAEI,CAAC,CAACI,MAAF,CAASC;AAAlB,KAAd;AACD;;AAEDb,EAAAA,gBAAgB,CAACQ,CAAD,EAAI;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB;AACA,SAAKQ,QAAL,CAAc;AAAEN,MAAAA,QAAQ,EAAEG,CAAC,CAACI,MAAF,CAASC;AAArB,KAAd;AACD;AAED;;;;;AAGAC,EAAAA,KAAK,CAACN,CAAD,EAAI;AAAA,UACCF,QADD,GACc,KAAKC,KADnB,CACCD,QADD;AAAA,wBAEqB,KAAKH,KAF1B;AAAA,UAECC,KAFD,eAECA,KAFD;AAAA,UAEQC,QAFR,eAEQA,QAFR;AAIPG,IAAAA,CAAC,CAACO,cAAF;AAEA1B,IAAAA,KAAK,CACF2B,IADH,CACQ,6BADR,EACuC;AACnCZ,MAAAA,KADmC;AAEnCC,MAAAA;AAFmC,KADvC,EAKGY,IALH,CAKQC,QAAQ,IAAI;AAChB,WAAKjB,aAAL;AACAK,MAAAA,QAAQ,CAACd,KAAK,EAAN,CAAR;AACD,KARH,EASG2B,KATH,CASSC,KAAK,IAAI;AACdd,MAAAA,QAAQ,CAACb,MAAM,EAAP,CAAR;AACD,KAXH;AAYD;;AAED4B,EAAAA,MAAM,GAAG;AAAA,yBACqB,KAAKlB,KAD1B;AAAA,UACCC,KADD,gBACCA,KADD;AAAA,UACQC,QADR,gBACQA,QADR;AAAA,UAECiB,IAFD,GAEU,KAAKf,KAFf,CAECe,IAFD;AAIP,WACE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAEA,IAAb;AAAmB,MAAA,MAAM,EAAE,KAAKrB,aAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,CADF,EAIE,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,EAAE,EAAC,OAFL;AAGE,MAAA,KAAK,EAAEG,KAHT;AAIE,MAAA,QAAQ,EAAEI,CAAC,IAAI,KAAKV,aAAL,CAAmBU,CAAnB,CAJjB;AAKE,MAAA,SAAS,EAAC,cALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAWE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,EAAE,EAAC,UAFL;AAGE,MAAA,KAAK,EAAEH,QAHT;AAIE,MAAA,QAAQ,EAAEG,CAAC,IAAI,KAAKR,gBAAL,CAAsBQ,CAAtB,CAJjB;AAKE,MAAA,SAAS,EAAC,cALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAXF,EAqBE;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,OAAO,EAAEA,CAAC,IAAI,KAAKM,KAAL,CAAWN,CAAX,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBArBF,CADF,EA0BE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA1BF,CAJF,EAgCE,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,OAAO,EAAC,WAAhB;AAA4B,MAAA,OAAO,EAAE,KAAKP,aAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CAhCF,CADF;AAwCD;;AAlHgC;;AAqHnC,MAAMsB,UAAU,GAAGpB,KAAK,IAAI;AAAA,QAClBmB,IADkB,GACTnB,KAAK,CAACqB,KADG,CAClBF,IADkB;AAG1B,SAAO;AAAEA,IAAAA;AAAF,GAAP;AACD,CAJD;;AAMA,eAAelC,OAAO,CAACmC,UAAD,CAAP,CAAoB3B,UAApB,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\n\nimport { Modal } from \"react-bootstrap\";\nimport { openModal } from \"./actions/\";\nimport { loged, logout } from \"../../session/actions\";\n\nconst RedirectLogin = isLoged =>\n  isLoged ? <Redirect to=\"/adminhome\" /> : null;\n\nclass ModalAdmin extends Component {\n  constructor() {\n    super();\n\n    this.onHandleEmail = this.onHandleEmail.bind(this);\n    this.onHandlePassword = this.onHandlePassword.bind(this);\n    this.onHandleClose = this.onHandleClose.bind(this);\n    this.onHandleShow = this.onHandleShow.bind(this);\n\n    this.state = {\n      email: \"\",\n      password: \"\"\n    };\n  }\n\n  /**\n   * on handle close\n   */\n  onHandleClose() {\n    const { dispatch } = this.props;\n\n    dispatch(openModal(false));\n\n    return;\n  }\n\n  /**\n   * on handle show\n   */\n  onHandleShow() {\n    const { dispatch } = this.props;\n\n    dispatch(openModal(true));\n\n    return;\n  }\n\n  onHandleEmail(e) {\n    console.log(this.state);\n    this.setState({ email: e.target.value });\n  }\n\n  onHandlePassword(e) {\n    console.log(this.state);\n    this.setState({ password: e.target.value });\n  }\n\n  /**\n   * login\n   */\n  login(e) {\n    const { dispatch } = this.props;\n    const { email, password } = this.state;\n\n    e.preventDefault();\n\n    axios\n      .post(\"http://localhost:8081/oauth\", {\n        email,\n        password\n      })\n      .then(response => {\n        this.onHandleClose();\n        dispatch(loged());\n      })\n      .catch(error => {\n        dispatch(logout());\n      });\n  }\n\n  render() {\n    const { email, password } = this.state;\n    const { open } = this.props;\n\n    return (\n      <Modal show={open} onHide={this.onHandleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Connexion administrateur</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <form>\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">E-mail</label>\n              <input\n                type=\"email\"\n                id=\"email\"\n                value={email}\n                onChange={e => this.onHandleEmail(e)}\n                className=\"form-control\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">mot de passe</label>\n              <input\n                type=\"password\"\n                id=\"password\"\n                value={password}\n                onChange={e => this.onHandlePassword(e)}\n                className=\"form-control\"\n              />\n            </div>\n            <button variant=\"primary\" onClick={e => this.login(e)}>\n              Singin\n            </button>\n          </form>\n          <RedirectLogin />\n        </Modal.Body>\n        <Modal.Footer>\n          <button variant=\"secondary\" onClick={this.onHandleClose}>\n            Close\n          </button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nconst mapToProps = state => {\n  const { open } = state.modal;\n\n  return { open };\n};\n\nexport default connect(mapToProps)(ModalAdmin);\n"]},"metadata":{},"sourceType":"module"}
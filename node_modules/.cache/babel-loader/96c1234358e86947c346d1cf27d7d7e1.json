{"ast":null,"code":"var _jsxFileName = \"/Users/juliabargoin/Desktop/Simplon/sitevitrine-frontend/src/components/admin/modal/form-update-article.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\n\nclass FormUpdateArticle extends Component {\n  constructor() {\n    super();\n    this.onHandleTitle = this.onHandleTitle.bind(this);\n    this.onHandleText = this.onHandleText.bind(this);\n    this.onHandleAuthor = this.onHandleAuthor.bind(this);\n    this.state = {\n      title: \"\",\n      text: \"\",\n      author: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getArticle();\n  }\n\n  getArticle() {\n    const id = this.props.id;\n    axios.get(\"http://localhost:8081/article/\".concat(id)).then(res => {\n      const _res$data = res.data,\n            title = _res$data.title,\n            text = _res$data.text,\n            author = _res$data.author,\n            date = _res$data.date;\n      this.setState({\n        title,\n        text,\n        author,\n        date\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  updateArticle(e) {\n    const id = this.props.id;\n    e.preventDefault();\n    axios.put(\"http://localhost:8081/article/update/\".concat(id), this.state).then(response => {\n      this.setState({\n        title: res.title,\n        text: res.text,\n        author: res.author,\n        date: res.date\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  onHandleTitle(e) {\n    this.setState({\n      title: e.target.value\n    });\n  }\n\n  onHandleText(e) {\n    this.setState({\n      text: e.target.value\n    });\n  }\n\n  onHandleAuthor(e) {\n    this.setState({\n      author: e.target.value\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          title = _this$state.title,\n          text = _this$state.text,\n          author = _this$state.author,\n          date = _this$state.date;\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, author), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, date)), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Titre\"), React.createElement(\"input\", {\n      type: \"title\",\n      id: \"title\",\n      value: title,\n      onChange: e => this.onHandleTitle(e),\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Text\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"text\",\n      value: text,\n      onChange: e => this.onHandleText(e),\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"author\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"author\"), React.createElement(\"input\", {\n      type: \"author\",\n      id: \"author\",\n      value: author,\n      onChange: e => this.onHandleAuthor(e),\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      variant: \"primary\",\n      onClick: e => this.updateArticle(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Mettre \\xE0 jour\")));\n  }\n\n}\n\nexport default connect()(FormUpdateArticle);","map":{"version":3,"sources":["/Users/juliabargoin/Desktop/Simplon/sitevitrine-frontend/src/components/admin/modal/form-update-article.js"],"names":["React","Component","connect","axios","FormUpdateArticle","constructor","onHandleTitle","bind","onHandleText","onHandleAuthor","state","title","text","author","componentDidMount","getArticle","id","props","get","then","res","data","date","setState","catch","error","console","log","updateArticle","e","preventDefault","put","response","target","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\n\nclass FormUpdateArticle extends Component {\n  constructor() {\n    super();\n\n    this.onHandleTitle = this.onHandleTitle.bind(this);\n    this.onHandleText = this.onHandleText.bind(this);\n    this.onHandleAuthor = this.onHandleAuthor.bind(this);\n\n    this.state = {\n      title: \"\",\n      text: \"\",\n      author: \"\"\n    };\n  }\n  componentDidMount() {\n    this.getArticle();\n  }\n  getArticle() {\n    const { id } = this.props;\n    axios\n      .get(`http://localhost:8081/article/${id}`)\n      .then(res => {\n        const { title, text, author, date } = res.data;\n        this.setState({\n          title,\n          text,\n          author,\n          date\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  updateArticle(e) {\n    const { id } = this.props;\n    e.preventDefault();\n\n    axios\n      .put(`http://localhost:8081/article/update/${id}`, this.state)\n      .then(response => {\n        this.setState({\n          title: res.title,\n          text: res.text,\n          author: res.author,\n          date: res.date\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  onHandleTitle(e) {\n    this.setState({ title: e.target.value });\n  }\n\n  onHandleText(e) {\n    this.setState({ text: e.target.value });\n  }\n  onHandleAuthor(e) {\n    this.setState({ author: e.target.value });\n  }\n\n  render() {\n    const { title, text, author, date } = this.state;\n    return (\n      <>\n        <div>\n          <span>{author}</span>\n          <span>{date}</span>\n        </div>\n        <form>\n          <div className=\"form-group\">\n            <label htmlFor=\"title\">Titre</label>\n            <input\n              type=\"title\"\n              id=\"title\"\n              value={title}\n              onChange={e => this.onHandleTitle(e)}\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"text\">Text</label>\n            <input\n              type=\"text\"\n              id=\"text\"\n              value={text}\n              onChange={e => this.onHandleText(e)}\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"author\">author</label>\n            <input\n              type=\"author\"\n              id=\"author\"\n              value={author}\n              onChange={e => this.onHandleAuthor(e)}\n              className=\"form-control\"\n            />\n          </div>\n          <button variant=\"primary\" onClick={e => this.updateArticle(e)}>\n            Mettre à jour\n          </button>\n        </form>\n      </>\n    );\n  }\n}\nexport default connect()(FormUpdateArticle);\n"]},"metadata":{},"sourceType":"module"}
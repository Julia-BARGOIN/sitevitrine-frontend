{"ast":null,"code":"var _jsxFileName = \"/Users/juliabargoin/Desktop/Simplon/sitevitrine-frontend/src/components/admin/modal/form-login.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { openModal } from \"./actions/\";\nimport { loged, logout } from \"../../session/actions\";\n\nconst RedirectLogin = isLoged => isLoged ? React.createElement(Redirect, {\n  to: \"/adminhome\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}) : null;\n\nclass FormLogin extends Component {\n  constructor() {\n    super();\n    this.onHandleEmail = this.onHandleEmail.bind(this);\n    this.onHandlePassword = this.onHandlePassword.bind(this);\n    this.state = {\n      email: \"\",\n      password: \"\"\n    };\n  }\n  /**\n   * login\n   */\n\n\n  login(e) {\n    const dispatch = this.props.dispatch;\n    const _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n    e.preventDefault();\n    axios.post(\"http://localhost:8081/oauth\", {\n      email,\n      password\n    }).then(response => {\n      dispatch(openModel(false));\n      dispatch(loged());\n    }).catch(error => {\n      dispatch(logout());\n    });\n  }\n\n  onHandleEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  onHandlePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password;\n    return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"E-mail\"), React.createElement(\"input\", {\n      type: \"email\",\n      id: \"email\",\n      value: email,\n      onChange: e => this.onHandleEmail(e),\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"mot de passe\"), React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      value: password,\n      onChange: e => this.onHandlePassword(e),\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      variant: \"primary\",\n      onClick: e => this.login(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Singin\")), React.createElement(RedirectLogin, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default connect()(FormLogin);","map":{"version":3,"sources":["/Users/juliabargoin/Desktop/Simplon/sitevitrine-frontend/src/components/admin/modal/form-login.js"],"names":["React","Component","axios","connect","Redirect","openModal","loged","logout","RedirectLogin","isLoged","FormLogin","constructor","onHandleEmail","bind","onHandlePassword","state","email","password","login","e","dispatch","props","preventDefault","post","then","response","openModel","catch","error","setState","target","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { openModal } from \"./actions/\";\nimport { loged, logout } from \"../../session/actions\";\n\nconst RedirectLogin = isLoged =>\n  isLoged ? <Redirect to=\"/adminhome\" /> : null;\n\nclass FormLogin extends Component {\n  constructor() {\n    super();\n\n    this.onHandleEmail = this.onHandleEmail.bind(this);\n    this.onHandlePassword = this.onHandlePassword.bind(this);\n\n    this.state = {\n      email: \"\",\n      password: \"\"\n    };\n  }\n  /**\n   * login\n   */\n  login(e) {\n    const { dispatch } = this.props;\n    const { email, password } = this.state;\n\n    e.preventDefault();\n\n    axios\n      .post(\"http://localhost:8081/oauth\", {\n        email,\n        password\n      })\n      .then(response => {\n        dispatch(openModel(false));\n        dispatch(loged());\n      })\n      .catch(error => {\n        dispatch(logout());\n      });\n  }\n\n  onHandleEmail(e) {\n    this.setState({ email: e.target.value });\n  }\n\n  onHandlePassword(e) {\n    this.setState({ password: e.target.value });\n  }\n\n  render() {\n    const { email, password } = this.state;\n    return (\n      <>\n        <form>\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">E-mail</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              value={email}\n              onChange={e => this.onHandleEmail(e)}\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">mot de passe</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={e => this.onHandlePassword(e)}\n              className=\"form-control\"\n            />\n          </div>\n          <button variant=\"primary\" onClick={e => this.login(e)}>\n            Singin\n          </button>\n        </form>\n        <RedirectLogin />\n      </>\n    );\n  }\n}\n\nexport default connect()(FormLogin);\n"]},"metadata":{},"sourceType":"module"}